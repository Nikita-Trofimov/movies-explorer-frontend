{"version":3,"sources":["utils/constants.js","utils/MainApi.js","components/Header/Header.js","components/Main/Main.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/618592738.png","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","utils/useFormWithValidation.js","components/Preloader/Preloader.js","components/Register/Register.js","components/Login/Login.js","contexts/CurrentUserContext.js","components/SearchForm/SearchForm.js","images/imgNotFound.png","utils/utils.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","utils/MoviesApi.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Profile/Profile.js","components/NotFound/NotFound.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["imgServer","mainApi","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","statusText","url","fetch","credentials","then","_checkResponse","movie","method","body","JSON","stringify","country","director","duration","year","description","image","trailer","trailerLink","thumbnail","formats","movieId","id","nameRU","nameEN","_fetch","name","email","password","err","Header","isLogin","useState","isClickedBurgerMenu","setIsClickedBurgerMenu","handleCloseBurgerMenu","exact","path","className","to","activeClassName","onClick","Main","children","Promo","AboutProject","Techs","AboutMe","target","rel","href","src","photo","alt","Portfolio","Footer","Date","getFullYear","useFormWithValidation","React","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","value","validationMessage","closest","checkValidity","Preloader","Register","onRegister","errorMessage","isPending","onSubmit","evt","preventDefault","noValidate","onChange","type","placeholder","minLength","required","disabled","Login","onLogin","CurrentUserContext","createContext","SearchForm","onSearchMovies","onChekBoxClick","isShortMovies","filmQuery","setfilmQuery","htmlFor","getTimeFromMins","mins","hours","Math","trunc","minutes","filterMovies","movies","userQuery","filter","movieEn","String","toLowerCase","trim","movieRu","userMovie","indexOf","MoviesCard","isSavedMoviePage","onSaveMovie","onUnSaveMovie","isSave","cardLikeButtonClassName","cardSaveButtonClassName","onError","errorImg","_id","handleUnSave","MoviesCardList","nothingFound","moviesLoading","savedMovies","total","more","cardsShowDetails","setCardsShowDetails","movieList","setMovieList","window","innerWidth","screenWidth","setScreenWidth","checkSavedMovie","find","savedMovie","useEffect","handleScreenResize","resizeTimeout","addEventListener","setTimeout","removeEventListener","length","tempMovies","item","i","map","start","end","newCards","slice","api","Movies","setNothingFound","initialMovies","setInitialMovies","isMoviesLoading","setIsMoviesLoading","setIsShortMovies","isError","setIsError","currentUser","useContext","localStorage","getItem","parse","inputValue","getMovies","moviesList","console","log","setItem","handleSetFilteredMovies","catch","finally","SavedMovies","filteredMovies","setFilteredMovies","savedMoviesList","setSavedMoviesList","Profile","successMessage","onLogOut","NotFound","ProtectedRoute","Component","component","props","App","history","useHistory","setIsLogin","setErrorMessage","setIsPending","setCurrentUser","setSuccessMessage","setSavedMovies","handleUnSaveMovie","movieToDeleteId","unSaveMovie","handleSignIn","login","push","message","getUser","user","getSavedMovies","Provider","register","saveMovie","updateUser","logout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c5bce18.chunk.js","sourcesContent":["export const server = 'https://api.nomoreparties.co/beatfilm-movies';\nexport const imgServer = 'https://api.nomoreparties.co';\nexport const api = 'https://api.nikita-movie-explorer.nomoredomains.club';","import { api, imgServer } from \"./constants.js\";\n\nclass MainApi {\n  constructor (options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status} : ${res.statusText}`);\n  }\n\n  _fetch(url) {\n    return fetch(`${this._baseUrl}${url}`, {\n      headers: this._headers,\n      credentials: 'include',\n    })\n    .then(this._checkResponse);\n  }\n\n  saveMovie(movie) {\n    return fetch(`${this._baseUrl}/movies`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        country: movie.country,\n        director: movie.director,\n        duration: movie.duration,\n        year: movie.year,\n        description: movie.description,\n        image: imgServer + movie.image.url,\n        trailer: movie.trailerLink,\n        thumbnail: imgServer + movie.image.formats.thumbnail.url,\n        movieId: movie.id,\n        nameRU: movie.nameRU,\n        nameEN: movie.nameEN,\n      })\n    }).then(this._checkResponse);\n  }\n\n  unSaveMovie(movieId) {\n    return fetch(`${this._baseUrl}/movies/${movieId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      credentials: 'include',\n    }).then(this._checkResponse);\n  }\n\n  getSavedMovies(url='/movies') {\n    return this._fetch(url)\n  }\n\n  register({ name, email, password }) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        \"name\": name,\n        \"password\": password,\n        \"email\": email\n      })\n    }).then((res) => {\n      return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n    })\n  }\n\n  login({ email, password }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    }).then((res) => {\n      return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n    })\n  }\n\n  getUser(url='/users/me') {\n    return this._fetch(url)\n  }\n\n  updateUser({ name, email }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        \"name\": name,\n        \"email\": email\n      })\n    }).then((res) => {\n      return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n    })\n  }\n\n  logout() {\n    return fetch(`${this._baseUrl}/logout`, {\n    headers: this._headers,\n    credentials: \"include\",\n    })\n    .then(this._checkResponse);\n  }\n}\n\nexport const mainApi = new MainApi({\n  baseUrl: api,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n  }\n});\n","import { Link, NavLink, Route } from 'react-router-dom';\nimport { useState } from 'react';\n\nimport './Header.css';\n\nfunction Header({ isLogin=false }) {\n  const routs = ['/movies', '/saved-movies', '/profile', '/' ];\n\n  const [isClickedBurgerMenu, setIsClickedBurgerMenu] = useState(false);\n\n  function handleOpenBurgerMenu() {\n    setIsClickedBurgerMenu(true);\n  }\n\n  function handleCloseBurgerMenu() {\n    setIsClickedBurgerMenu(false);\n  }\n\n  return (\n    <Route exact path={routs}>\n      { !isLogin ?\n        <header className=\"header\">\n          <Link to='/' className=\"header__logo\"/>\n          <nav className=\"header__authentication\">\n            <Link to='/signup' className=\"header__authentication-link\">Регистрация</Link>\n            <Link to='/signin' className=\"header__authentication-link header__authentication-button\">Войти</Link>\n          </nav>\n        </header>\n        :\n        <header className=\"header header__color_FA\">\n          <nav className=\"header__movies\">\n          <div className=\"header__movies-container\">\n            <Link to='/' className=\"header__logo header__movies-logo\"/>\n            <NavLink to='/movies' activeClassName=\"header__authentication-link_active\"\n            className=\"header__authentication-link header__movies-link header__authentication-link_disabled\">Фильмы</NavLink>\n            <NavLink to='/saved-movies' activeClassName=\"header__authentication-link_active\"\n             className=\"header__authentication-link header__authentication-link_disabled\">Сохраненые фильмы</NavLink>\n          </div>\n          <div className=\"header__movies-container header__movies-container_disabled\">\n            <Link to='/profile' className=\"header__authentication-link header__movies-link header__authentication-link_disabled\">Аккаунт</Link>\n            <Link to='/profile' className=\"header__movies-account-icon header__authentication-link_disabled\"></Link>\n          </div>\n          <button onClick={handleOpenBurgerMenu} className=\"header__burger-menu-button\"></button>\n          {\n              isClickedBurgerMenu ?\n                <>\n                  <div className=\"header__burger-menu-overlay\"></div>\n                  <div className=\"header__burger-menu\">\n                    <div className=\"header__burger-menu-container\">\n                      <Link exact to=\"/\" onClick={handleCloseBurgerMenu} className=\"header__burger-menu-link\">Главная</Link>\n                      <Link to='/movies' onClick={handleCloseBurgerMenu} className=\"header__burger-menu-link header__burger-menu-link_active\">Фильмы</Link>\n                      <Link to='/saved-movies' onClick={handleCloseBurgerMenu} className=\"header__burger-menu-link\">Сохранённые фильмы</Link>\n                    </div>\n                    <div className=\"header__burger-menu-account\">\n                      <Link to='/profile' onClick={handleCloseBurgerMenu} className=\"header__authentication-link header__movies-link\">Аккаунт</Link>\n                      <Link to='/profile' onClick={handleCloseBurgerMenu} className=\"header__movies-account-icon\"></Link>\n                    </div>\n                    <button onClick={handleCloseBurgerMenu} className=\"header__burger-menu-close\"></button>\n                  </div>\n                </>\n                : ''\n            }\n          </nav>\n\n        </header>\n      }\n    </Route>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Main({children}) {\n  return (\n    <main className=\"main\">\n      {children}\n    </main>\n  )\n}\n\nexport default Main;\n","import './Promo.css';\n\nfunction Promo() {\n  return (\n    <section className=\"promo\">\n      <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n      <div className=\"promo__background-img\"></div>\n    </section>\n  )\n}\n\nexport default Promo;","import \"./AboutProject.css\";\n\nfunction AboutProject() {\n  return (\n    <section className=\"about-project\">\n      <h2 className=\"about-project__title\">О проекте</h2>\n      <ul className=\"about-project__table\">\n        <li className=\"about-project__cell\">\n          <h3 className=\"about-project__subtitle\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-project__text\">Составление плана, работу над бэкендом, вёрстку,\n           добавление функциональности и финальные доработки.</p>\n        </li>\n        <li className=\"about-project__cell\">\n          <h3 className=\"about-project__subtitle\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-project__text\">У каждого этапа был мягкий и жёсткий дедлайн,\n          которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </li>\n      </ul>\n      <div className=\"about-project__time-line\">\n        <p className=\"about-project__time-line-text\">\n          <p className=\"about-project__time-line-first\">1 неделя</p>\n          <p className=\"about-project__time-line-second\">4 недели</p>\n        </p>\n        <p className=\"about-project__time-line-text about-project__time-line-text_500\">\n          <span className=\"about-project__time-line-first about-project__time-line-subtitle\">Back-end</span>\n          <span className=\"about-project__time-line-second about-project__time-line-subtitle\">Front-end</span>\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject;\n","import \"./Techs.css\";\n\nfunction Techs() {\n  return (\n    <section className=\"techs\">\n      <h2 className=\"techs__title\">Технологии</h2>\n      <h3 className=\"techs__subtitle\">7 технологий</h3>\n      <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии,\n      которые применили в дипломном проекте.</p>\n      <ul className=\"techs__list\">\n        <li className=\"techs__tech\">HTML</li>\n        <li className=\"techs__tech\">CSS</li>\n        <li className=\"techs__tech\">JS</li>\n        <li className=\"techs__tech\">React</li>\n        <li className=\"techs__tech\">Git</li>\n        <li className=\"techs__tech\">Express.js</li>\n        <li className=\"techs__tech\">mongoDB</li>\n      </ul>\n    </section>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/618592738.b1e84fd1.png\";","import photo from \"../../images/618592738.png\";\n\nimport \"./AboutMe.css\";\n\nfunction AboutMe() {\n  return (\n    <section className=\"about-me\">\n      <h2 className=\"about-me__title\">Студент</h2>\n      <article className=\"about-me__info\">\n        <div className=\"about-me__container\">\n          <h3 className=\"about-me__subtitle\">Никита</h3>\n          <p className=\"about-me__prof\">Frontend-разработчик, 31 год</p>\n          <p className=\"about-me__about\">На текущей работе участвовал в создании портала технической поддержки,\n            в процессе его создания очень понравилось проектировать интерфейс и делать портал удобным в использовании.\n            В веб-разработке меня очень привлекло моментальное отображение результата работы и возможность сделать качественный\n            продукт для конечного пользователя. Из-за долгой работы в технической поддержке очень хорошо понимаю потребности\n            и желания пользователей.</p>\n          <ul className=\"about-me__link-list\">\n            <li className=\"about-me__link-list-item\"><a className=\"about-me__link\" target=\"_blank\" rel=\"noreferrer\"\n            href=\"https://ru-ru.facebook.com/\">Facebook</a></li>\n            <li className=\"about-me__link-list-item\"><a className=\"about-me__link\" target=\"_blank\" rel=\"noreferrer\"\n            href=\"https://github.com/Nikita-Trofimov\">Github</a></li>\n          </ul>\n        </div>\n        <img className=\"about-me__photo\" src={photo} alt=\"Фото студнета\"/>\n      </article>\n    </section>\n  );\n}\n\nexport default AboutMe;\n","import \"./Portfolio.css\";\n\nfunction Portfolio() {\n  return (\n    <section className=\"portfolio\">\n      <h2 className=\"portfolio__title\">Портфолио</h2>\n      <ul className=\"portfolio__list\">\n        <li className=\"portfolio__list-item\"><a className=\"portfolio__link\" target=\"_blank\" rel=\"noreferrer\"\n            href=\"https://nikita-trofimov.github.io/how-to-learn/\">Статичный сайт</a></li>\n        <li className=\"portfolio__list-item\"><a className=\"portfolio__link\" target=\"_blank\" rel=\"noreferrer\"\n            href=\"https://nikita-trofimov.github.io/russian-travel/\">Адаптивный сайт</a></li>\n        <li className=\"portfolio__list-item\"><a className=\"portfolio__link\" target=\"_blank\" rel=\"noreferrer\"\n            href=\"https://nikita-trofimov.github.io/react-mesto-auth\">Одностраничное приложение</a></li>\n        </ul>\n    </section>\n  );\n}\n\nexport default Portfolio;\n","import { Route } from 'react-router-dom';\n\nimport \"./Footer.css\";\n\nfunction Footer() {\n\n  const routs = ['/movies', '/saved-movies', '/' ];\n\n  return (\n    <Route exact path={routs}>\n      <footer className=\"footer\">\n        <h4 className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</h4>\n        <div className=\"footer__container\">\n          <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}</p>\n          <ul className=\"footer__list\">\n            <li className=\"footer__list-item\"><a className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\"\n              href=\"https://praktikum.yandex.ru/\">Яндекс.Практикум</a>\n            </li>\n            <li className=\"footer__list-item\"><a className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\"\n              href=\"https://github.com/\">Github</a>\n            </li>\n            <li className=\"footer__list-item\"><a className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\"\n              href=\"https://ru-ru.facebook.com/\">Facebook</a>\n            </li>\n          </ul>\n        </div>\n      </footer>\n    </Route>\n  );\n}\n\nexport default Footer;\n","import React, { useCallback } from 'react';\n\nexport function useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm, setValues, setIsValid };\n}\n","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import { Link } from 'react-router-dom';\n\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\nimport Preloader from '../Preloader/Preloader';\n\nimport \"./Register.css\";\n\nfunction Register({ onRegister, errorMessage, isPending }) {\n\n  const { values, errors, isValid, handleChange } = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onRegister(values);\n  }\n\n  return (\n    <section className=\"register\">\n      <Link to='/' className=\"register__logo\"/>\n      {isPending ? <Preloader /> :\n        <>\n        <form className=\"register__form\"  onSubmit={handleSubmit} noValidate>\n          <h2 className=\"register__title\">Добро пожаловать!</h2>\n          <p className=\"register__input-name\">Имя</p>\n          <input onChange={handleChange} value={values.name || ''}\n          name=\"name\" type=\"text\" placeholder=\"Введите имя\" className=\"register__input\" minLength=\"2\" required />\n          <p className=\"register__input-error\">{errors.name}</p>\n          <p className=\"register__input-name\">E-mail</p>\n          <input onChange={handleChange} value={values.email || ''}\n          name=\"email\" type=\"email\" placeholder=\"Введите Email\" className=\"register__input\" required />\n          <p className=\"register__input-error\">{errors.email}</p>\n          <p className=\"register__input-name\">Пароль</p>\n          <input onChange={handleChange} value={values.password || ''}\n          name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"register__input\" required />\n          <p className=\"register__input-error\">{errors.password}</p>\n          <p className=\"register__submit-error\">{errorMessage}</p>\n          <button type=\"submit\" disabled={isValid ? '' : true}\n          className={isValid ? \"register__submit-button\" : \"register__submit-button register__submit-button_disabled \" }>Зарегистрироваться</button>\n        </form>\n        <p className=\"register__subtitle\">Уже зарегистрированы? <Link className=\"register__subtitle-link\" to='/signin'>Войти</Link></p>\n        </>\n      }\n    </section>\n  );\n}\n\nexport default Register;\n","import { Link } from 'react-router-dom';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nimport Preloader from '../Preloader/Preloader';\nimport \"./Login.css\";\n\nfunction Login({ onLogin, isPending }) {\n\n  const { values, errors, isValid, handleChange, errorMessage } = useFormWithValidation();\n\n  function handleLoginSubmit(evt) {\n    evt.preventDefault();\n    onLogin(values);\n  }\n\n  return (\n    <section className=\"login\">\n      {isPending ? <Preloader /> :\n      <>\n      <Link to='/' className=\"login__logo\"/>\n      <form className=\"login__form\" onSubmit={handleLoginSubmit}>\n        <h2 className=\"login__title\">Рады видеть!</h2>\n        <p className=\"login__input-name\">E-mail</p>\n        <input onChange={handleChange} value={values.email || ''}\n        name=\"email\" type=\"email\" placeholder=\"Введите Email\" className=\"login__input\" required />\n        <p className=\"login__input-error\">{errors.email}</p>\n        <p className=\"login__input-name\">Пароль</p>\n        <input onChange={handleChange} value={values.password || ''}\n        name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"login__input\" required />\n        <p className=\"login__input-error\">{errors.password}</p>\n        <p className=\"register__submit-error\">{errorMessage}</p>\n        <button type=\"submit\" disabled={isValid ? '' : true}\n          className={isValid ? \"login__submit-button\" : \"login__submit-button login__submit-button_disabled\" }>Войти</button>\n      </form>\n      <p className=\"login__subtitle\">Ещё не зарегистрированы? <Link className=\"login__subtitle-link\" to='/signup'>Регистрация</Link></p>\n      </>\n    }\n    </section>\n  );\n}\n\nexport default Login;\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import { useState } from 'react';\n\nimport \"./SearchForm.css\";\n\nfunction SearchForm({ onSearchMovies, isShortMovies, onChekBoxClick }) {\n  const [filmQuery, setfilmQuery] = useState('');\n\n  function handleChangeQuery(evt) {\n    setfilmQuery(evt.target.value);\n  }\n\n  function handleSubmitSearch(evt) {\n    evt.preventDefault();\n    onSearchMovies(filmQuery)\n  }\n\n  return (\n    <section>\n      <form className=\"search-form\" onSubmit={handleSubmitSearch}>\n        <input value={filmQuery || ''} onChange={handleChangeQuery}\n        name=\"search-form__query-input\" type=\"text\" placeholder=\"Фильм\" className=\"search-form__query\" minLength=\"1\" required/>\n        <button type=\"submit\" className=\"search-form__submit-button\">Найти</button>\n      </form>\n      <span className=\"search-form__error\">Нужно ввести ключевое слово</span>\n      <div className=\"search-form__checkbox-container\">\n        <input className=\"search-form__checkbox\" id=\"short-movies\" type=\"checkbox\"  minLength=\"2\" onChange={onChekBoxClick} />\n        <label className=\"search-form__checkbox-label\" htmlFor=\"short-movies\"></label>\n        <span className=\"search-form__checkbox-text\">Короткометражки</span>\n      </div>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","export default __webpack_public_path__ + \"static/media/imgNotFound.323f7926.png\";","export function getTimeFromMins(mins) {\n  const hours = Math.trunc(mins/60);\n  const minutes = mins % 60;\n  if (hours === 0) {\n    return minutes + 'м.';\n  }\n  return hours + 'ч. ' + minutes + 'м.';\n};\nexport function filterMovies(movies, userQuery) {\n  const moviesByUserQuery = movies.filter((movie) => {\n  const movieEn = String(movie.nameEN).toLowerCase().trim();\n  const movieRu = String(movie.nameRU).toLowerCase().trim();\n  const userMovie = userQuery.toLowerCase().trim();\n  return movieRu.indexOf(userMovie) !== -1 || movieEn.indexOf(userMovie) !== -1;\n});\n  return moviesByUserQuery;\n};\n","import errorImg from '../../images/imgNotFound.png';\nimport './MoviesCard.css';\nimport { getTimeFromMins } from '../../utils/utils';\nimport { imgServer } from \"../../utils/constants\";\n\nfunction MoviesCard({ movie, isSavedMoviePage, onSaveMovie, onUnSaveMovie, isSave }) {\n\n  function errorLoadImg(evt) {\n    evt.target.src=errorImg;\n  };\n\n  function handleSaveMovie() {\n    onSaveMovie(movie);\n  }\n\n  function handleUnSave(isSavedMoviePage) {\n    onUnSaveMovie(movie._id || movie.id, isSavedMoviePage);\n  }\n\n  const cardLikeButtonClassName = (\n    `card__not-save ${ isSave   ? 'card__save' : ''}`\n  );\n\n  const cardSaveButtonClassName = (\n    `card__not-save ${isSavedMoviePage ? 'card__unsave': ''}`\n  )\n\n  return (\n    <li className=\"card\">\n    <a href={isSavedMoviePage ? movie.trailer : movie.trailerLink} target=\"_blank\" rel=\"noreferrer\">\n      <img onError={errorLoadImg} src={ isSavedMoviePage ?  movie.image : `${imgServer}${movie.image.url}`} alt={movie.nameRU}\n      className=\"card__image\" />\n    </a>\n      <div className=\"card__image-subtitle\">\n        <h2 className=\"card__title\">{movie.nameRU}</h2>\n        <button type=\"button\" className={isSavedMoviePage ? cardSaveButtonClassName : cardLikeButtonClassName}\n         onClick={isSavedMoviePage || isSave ? () => handleUnSave(isSavedMoviePage) : handleSaveMovie } ></button>\n      </div>\n      <p className=\"card__movie-duration\">{getTimeFromMins(movie.duration)}</p>\n    </li>\n  );\n}\n\nexport default MoviesCard;\n","import { useEffect, useState } from \"react\";\n\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport Preloader from \"../Preloader/Preloader\";\nimport \"./MoviesCardList.css\";\n\nfunction MoviesCardList({ movies, nothingFound, moviesLoading, isSavedMoviePage, onSaveMovie, onUnSaveMovie , savedMovies }) {\n\n  const [cardsShowDetails, setCardsShowDetails] = useState({ total: 12, more: 4 });\n  const [movieList, setMovieList] = useState([]);\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\n\n  function checkSavedMovie(savedMovies, movie) {\n    let save = savedMovies.find(savedMovie => savedMovie.movieId === movie.id);\n    return save;\n  }\n\n  useEffect(() => {\n    function handleScreenResize() {\n      setScreenWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', resizeTimer, false);\n\n    let resizeTimeout;\n\n    function resizeTimer() {\n      if (!resizeTimeout ) {\n        resizeTimeout = setTimeout(() => {\n          resizeTimeout = null;\n          handleScreenResize();\n        }, 1000);\n      }\n    };\n\n    return () => window.removeEventListener('resize', handleScreenResize);\n  }, [screenWidth]);\n\n  useEffect(() => {\n    if (screenWidth >= 1280) {\n      setCardsShowDetails({ total: 12, more: 4 })\n    }\n    else if (screenWidth <= 768 && screenWidth > 420) {\n      setCardsShowDetails({ total: 8, more: 2 })\n    }\n     else {\n      setCardsShowDetails({ total: 5, more: 2 })\n    }\n\n  }, [screenWidth]);\n\n  useEffect(() => {\n    if (movies.length) {\n        const tempMovies = movies.filter((item, i) => i < cardsShowDetails.total);\n        setMovieList(tempMovies);\n      }\n  }, [movies, cardsShowDetails.total]);\n\n  function handleClickMoreMovies() {\n    const start = movieList.length;\n    const end = start + cardsShowDetails.more;\n    const additional = movies.length - start;\n\n    if (additional > 0) {\n      const newCards = movies.slice(start, end);\n      setMovieList([...movieList, ...newCards]);\n    }\n  };\n\n  return (\n  <>\n    {moviesLoading ? <Preloader /> :\n      <>\n        { nothingFound ? <p className=\"nothing-found\">По вашему запросу ничего не найдено</p> :\n          <ul className=\"movies-cards-list\">\n            {movieList.map(movie => { return (\n                <MoviesCard key={movie.id || movie._id} movie={movie}\n                isSavedMoviePage={isSavedMoviePage} onSaveMovie={onSaveMovie} onUnSaveMovie={onUnSaveMovie} isSave={checkSavedMovie(savedMovies, movie)}/>\n              );\n            })}\n          </ul>}\n          { isSavedMoviePage || movieList.length === movies.length  ? '' : <button className=\"movies__more\" onClick={handleClickMoreMovies}>Ещё</button> }\n      </>\n    }\n  </>\n  );\n}\n\nexport default MoviesCardList;\n","import {\n  server,\n} from \"./constants.js\";\n\nclass MoviesApi {\n  constructor (options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status} : ${res.statusText}`);\n  }\n\n  _fetch(url) {\n    return fetch(`${this._baseUrl}${url}`, {\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  getMovies(url='/') {\n    return this._fetch(url);\n  }\n}\n\nexport const api = new MoviesApi({\n  baseUrl: server,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n","import { useState, useEffect, useContext } from \"react\";\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\nimport \"./Movies.css\";\nimport { filterMovies } from \"../../utils/utils\";\nimport { api } from \"../../utils/MoviesApi\";\n\nfunction Movies({ onSaveMovie, onUnSaveMovie, savedMovies }) {\n  const [nothingFound, setNothingFound] = useState(false);\n  const [initialMovies, setInitialMovies] = useState([])\n  const [isMoviesLoading, setIsMoviesLoading] = useState(false);\n  const [isShortMovies, setIsShortMovies] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSetFilteredMovies(movies, userQuery, isShortMovies) {\n    let moviesList = filterMovies(movies, userQuery, isShortMovies);\n    moviesList.length === 0 ? setNothingFound(true) : setNothingFound(false);\n    console.log(isShortMovies)\n    if (isShortMovies) {\n      moviesList = moviesList.filter(movie => movie.duration <= 40);\n    }\n    setInitialMovies(moviesList);\n    localStorage.setItem(`movies + ${currentUser.email}`, JSON.stringify(moviesList));\n  }\n\n  function handleSearchFilms(inputValue) {\n    setIsMoviesLoading(true);\n    api.getMovies()\n    .then((movie) => {\n      handleSetFilteredMovies(movie, inputValue, isShortMovies);\n    })\n    .catch((err) => {\n      setIsError(true);\n      console.log('Ошибка ' + err)\n    })\n    .finally(() => setIsMoviesLoading(false));\n  }\n\n  function handleShortMoviesChek() {\n    setIsShortMovies(!isShortMovies);\n    if(!isShortMovies) {\n      setInitialMovies(initialMovies.filter(movie => movie.duration <= 40));\n    } else {\n      setInitialMovies(JSON.parse(localStorage.getItem(`movies + ${currentUser.email}`)));\n    }\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem(`movies + ${currentUser.email}`)) {\n      const movies = JSON.parse(localStorage.getItem(`movies + ${currentUser.email}`));\n      movies.length === 0 ? setNothingFound(true) : setNothingFound(false)\n      setInitialMovies(movies);\n    }\n  }, [currentUser.email]);\n\n  return (\n    <section className=\"movies\">\n      <SearchForm onSearchMovies={handleSearchFilms} isShortMovies={isShortMovies} onChekBoxClick={handleShortMoviesChek}/>\n      {isError ? <p className=\"search-error\">Во время запроса произошла ошибка.\n      Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз</p> :\n      <MoviesCardList nothingFound={nothingFound} movies={initialMovies} savedMovies={savedMovies}\n      moviesLoading={isMoviesLoading} onSaveMovie={onSaveMovie} onUnSaveMovie={onUnSaveMovie}/>\n      }\n    </section>\n  )\n}\n\nexport default Movies;\n","import { useEffect, useState } from \"react\";\n\nimport \"./SavedMovies.css\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\nimport { filterMovies } from \"../../utils/utils\";\n\nfunction SavedMovies({ onUnSaveMovie, savedMovies }) {\n\n  const [nothingFound, setNothingFound] = useState(true);\n  const [filteredMovies, setFilteredMovies] = useState([]);\n  const [savedMoviesList, setSavedMoviesList] = useState([])\n  const [isShortMovies, setIsShortMovies] = useState(false);\n\n  function handleSetFilteredMovies(savedMovies, userQuery, isShortMovies) {\n    let moviesList = filterMovies(savedMovies, userQuery, isShortMovies);\n    moviesList.length === 0 ? setNothingFound(true) : setNothingFound(false);\n    if (isShortMovies) {\n      moviesList = moviesList.filter(movie => movie.duration <= 40);\n    }\n    setSavedMoviesList(moviesList);\n  }\n\n  function handleSearchFilms(inputValue) {\n      setFilteredMovies(savedMovies);\n      handleSetFilteredMovies(filteredMovies, inputValue, isShortMovies);\n  }\n\n  function handleShortMoviesChek() {\n    setIsShortMovies(!isShortMovies);\n    if(!isShortMovies) {\n      setSavedMoviesList(savedMoviesList.filter(movie => movie.duration <= 40));\n    } else {\n      setSavedMoviesList(savedMovies);\n    }\n    console.log(savedMovies);\n  }\n\n  useEffect(() => {\n    if(savedMovies.length !== 0) {\n      setNothingFound(false);\n      setSavedMoviesList(savedMovies);\n    } else {\n      setNothingFound(true);\n    }\n  }, [savedMovies])\n\n  return (\n    <section className=\"movies\">\n      <SearchForm onSearchMovies={handleSearchFilms} onChekBoxClick={handleShortMoviesChek} />\n      <MoviesCardList nothingFound={nothingFound} isSavedMoviePage={true}\n       movies={savedMoviesList} onUnSaveMovie={onUnSaveMovie} savedMovies={savedMovies} />\n    </section>\n  );\n}\n\nexport default SavedMovies;\n","import { useFormWithValidation } from '../../utils/useFormWithValidation';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { useContext, useEffect} from 'react';\n\nimport './Profile.css';\nimport Preloader from '../Preloader/Preloader';\n\nfunction Profile({ onSubmit, errorMessage, isPending, successMessage, onLogOut }) {\n\n  const { values, errors, isValid, handleChange, setValues, setIsValid, resetForm } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    resetForm();\n    setValues({name: currentUser.name,\n               email: currentUser.email,});\n    }, [currentUser, setValues, resetForm]);\n\n  useEffect(() => {\n    if (values.name === currentUser.name && values.email === currentUser.email) {\n      setIsValid(false);\n    }\n  }, [values, currentUser, setIsValid]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(values);\n  }\n\n  function handleLogOut() {\n    onLogOut();\n  }\n\n\n  return (\n    <section className=\"profile\">\n      {isPending ? <Preloader /> :\n      <>\n        <form className=\"profile__form\" onSubmit={handleSubmit}>\n          <h2 className=\"profile__title\">Привет, Виталий!</h2>\n          <label className=\"profile__label\">Имя\n          <input onChange={handleChange} value={values.name || ''}\n          name=\"name\"  type=\"text\" className=\"profile__input\" minLength=\"2\" required />\n          </label>\n          <p className=\"profile__input-error\">{errors.name}</p>\n          <label className=\"profile__label\">E-mail\n          <input onChange={handleChange} value={values.email || ''}\n          name=\"email\" type=\"email\" className=\"profile__input\" required/>\n          </label>\n          <p className=\"profile__input-error\">{errors.email}</p>\n          <p className={successMessage ? \"profile__submit-succes\" : \"profile__submit-error\"}>{errorMessage || successMessage}</p>\n          <button  disabled={isValid ? '' : true}\n          type=\"submit\" className={isValid ? \"profile__submit-button\" :  \"profile__submit-button profile__submit-button_disabled\"}>Редактировать</button>\n        </form>\n        <button onClick={handleLogOut} type=\"submit\" className=\"profile__submit-button profile__submit-button_red\">Выйти из аккаунта</button>\n      </>\n      }\n      </section>\n  );\n}\n\nexport default Profile;","import { Link } from 'react-router-dom';\n\nimport \"./NotFound.css\";\n\nfunction NotFound() {\n  return (\n    <section className=\"not-found\">\n      <h2 className=\"not-found__title\">404</h2>\n      <p className=\"not-found__subtitle\">Страница не найдена</p>\n      <Link className=\"not-found__back\" to='/'>Назад</Link>\n    </section>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.isLogin ? <Component {...props} /> : <Redirect to=\"/\" />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import { Route, Switch, useHistory, Redirect } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport { mainApi } from '../../utils/MainApi';\n\nimport './App.css';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\nimport Footer from '../Footer/Footer';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport NotFound from '../NotFound/NotFound';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\nfunction App() {\n\n  const history = useHistory();\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isPending, setIsPending] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [successMessage, setSuccessMessage] = useState('')\n  const [savedMovies, setSavedMovies] = useState([])\n\n  useEffect(() => {\n    if (isLogin) {\n      history.push(\"/movies\");\n    }\n\n    mainApi.getUser()\n    .then((user) => {\n      setCurrentUser(user);\n      setIsLogin(true);\n    })\n    .catch(err => console.log('Ошибка ' + err));\n\n  }, [isLogin, history]);\n\n  useEffect(() => {\n    if(isLogin) {\n      mainApi.getSavedMovies()\n      .then((movies) => {\n        setSavedMovies(movies);\n      })\n      .catch(err => {\n        console.log('Ошибка ' + err);\n      })\n    }\n  }, [isLogin]);\n\n  function handleSaveMovie(movie) {\n    mainApi.saveMovie(movie).then((res) => {\n      setSavedMovies([res, ...savedMovies]);\n    })\n    .catch(err => console.log('Ошибка ' + err));\n  }\n\n  function handleUnSaveMovie(movieId, isSavedMoviePage) {\n    let movieToDeleteId;\n    if (isSavedMoviePage) {\n      movieToDeleteId = movieId;\n    }\n    else {\n      movieToDeleteId = savedMovies.find(movies => movies.movieId === movieId)._id;\n    }\n\n    mainApi.unSaveMovie(movieToDeleteId).then((res)=> {\n      setSavedMovies(savedMovies.filter(item => item._id !== movieToDeleteId));\n    })\n    .catch(err => console.log('Ошибка ' + err));\n  }\n\n  function handleSignIn(values) {\n    mainApi.login(values)\n    .then((res) => {\n      setIsPending(true);\n      setErrorMessage('');\n      console.log(res);\n      setIsLogin(true);\n      history.push(\"/movies\");\n    })\n    .catch((err) => {\n      setErrorMessage(err.message);\n      console.log(err.message);\n    })\n    .finally(()=> setIsPending(false));\n  }\n\n  function handleRegister(values) {\n    mainApi.register(values)\n    .then((res) => {\n      setIsPending(true);\n      setErrorMessage('');\n      console.log(res);\n      handleSignIn(values);\n    })\n    .catch((err) => {\n      setErrorMessage(err.message);\n      console.log(err.message);\n    })\n    .finally(()=> setIsPending(false));\n  }\n\n  function handleUpdateUser(values) {\n    mainApi.updateUser(values)\n    .then((res) => {\n      setIsPending(true);\n      setErrorMessage('');\n      setSuccessMessage('Данные успешно изменены')\n      console.log(res);\n    })\n    .catch((err) => {\n      setErrorMessage(err.message);\n      console.log(err.message);\n    })\n    .finally(()=> setIsPending(false));\n  }\n\n  function onLogOut() {\n    mainApi.logout()\n    .then((res) => {\n      setIsPending(true);\n      setIsLogin(false);\n      setErrorMessage('');\n      history.push(\"/\");\n      console.log(res);\n    })\n    .catch((err) => {\n      setErrorMessage(err.message);\n      console.log(err.message);\n    })\n    .finally(()=> setIsPending(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n      <Header isLogin={isLogin} />\n      <Switch>\n        <Route exact path=\"/\" >\n          <Main>\n            <Promo />\n            <AboutProject />\n            <Techs />\n            <AboutMe />\n            <Portfolio />\n          </Main>\n        </Route>\n        <Route path=\"/signup\">\n          <Register onRegister={handleRegister} errorMessage={errorMessage} isPending={isPending}/>\n        </Route>\n        <Route path=\"/signin\">\n          <Login onLogin={handleSignIn} />\n        </Route>\n        <ProtectedRoute path =\"/movies\"\n                        isLogin={isLogin}\n                        component={Movies}\n                        onSaveMovie={handleSaveMovie}\n                        onUnSaveMovie={handleUnSaveMovie}\n                        isPending={isPending}\n                        savedMovies={savedMovies} />\n        <ProtectedRoute path=\"/saved-movies\"\n                        isLogin={isLogin}\n                        component={SavedMovies}\n                        onUnSaveMovie={handleUnSaveMovie}\n                        savedMovies={savedMovies} />\n        <ProtectedRoute path=\"/profile\"\n                        isLogin={isLogin}\n                        component={Profile}\n                        onSubmit={handleUpdateUser}\n                        errorMessage={errorMessage}\n                        isPending={isPending}\n                        successMessage={successMessage}\n                        onLogOut={onLogOut} />\n        <Route path=\"/404\">\n          <NotFound />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/404\" />\n        </Route>\n      </Switch>\n      <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}